{"version":3,"sources":["../src/index.js"],"names":["cors","require","app","use","bodyParser","json","express","urlencoded","extended","post","sendmailController","req","res","httpRequest","then","headers","statusCode","data","set","status","send","catch","e","end","all","adminController","get","subscribersController","dealController","clientController","bankController","transactionController","accountController","delete","balanceController","listen","console","log"],"mappings":"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","sourcesContent":["import express from 'express'\nimport bodyParser from 'body-parser'\nimport handleDealRequest from './deal'\nimport handleClientRequest from './client'\nimport handleAdminRequest from './admin'\n\nimport handleTransactionRequest from './transaction'\nimport handleAccountRequest from './account'\nimport handleBalanceRequest from './balance'\nimport handleSubscribersRequest from './subscribers'\nimport handleBankRequest from './bank'\n\nimport handleSendmailRequest from './mailer'\n\n\nimport adaptRequest from './helpers/adapt-request'\n\nvar cors = require('cors')\nconst app = express();\napp.use(bodyParser.json());\n\n//Middleware\napp.use(express.urlencoded({ extended: true}));\napp.use(express.json());\n\napp.use(cors());\n\napp.post('/sendmail', sendmailController);\n\nfunction sendmailController (req, res) {\n  const httpRequest = adaptRequest(req)\n  handleSendmailRequest(httpRequest)\n      .then(({ headers, statusCode, data }) =>\n      res\n          .set(headers)\n          .status(statusCode) \n          .send(data)\n      )\n      .catch(e => res.status(500).end())\n}\n\n\napp.all('/admin', adminController);\napp.post('/admin/add', adminController);\napp.post('/admin/auth', adminController);\napp.post('/admin/reset', adminController);\napp.get('/admin/:id', adminController);\napp.get('/admin/find/?email=:email', adminController);\n\nfunction adminController (req, res) {\n    const httpRequest = adaptRequest(req)\n    handleAdminRequest(httpRequest)\n        .then(({ headers, statusCode, data }) =>\n        res\n            .set(headers)\n            .status(statusCode) \n            .send(data)\n        )\n        .catch(e => res.status(500).end())\n}\n\n\napp.all('/subscriber', subscribersController);\napp.post('/subscriber/add', subscribersController);\napp.post('/subscriber/verify', subscribersController);\napp.get('/subscriber/:id', subscribersController);\napp.get('/subscriber/find/?id=:id', subscribersController);\napp.get('/subscriber/find/?phone=:phone', subscribersController);\napp.get('/subscriber/find/?customer_id=:id', subscribersController);\n\n\nfunction subscribersController (req, res) {\n  \n  const httpRequest = adaptRequest(req)\n  handleSubscribersRequest(httpRequest)\n    .then(({ headers, statusCode, data }) =>\n      res\n        .set(headers)\n        .status(statusCode) \n        .send(data)\n    )\n    .catch(e => res.status(500).end())\n}\n\n\napp.all('/deal', dealController);\napp.post('/deal/add', dealController);\napp.get('/deal/:id', dealController);\napp.get('/deal/find/?id=:id', dealController);\napp.get('/deal/find/?phone=:phone', dealController);\napp.get('/deal/find/?customer_id=:id', dealController);\n\nfunction dealController (req, res) {\n    const httpRequest = adaptRequest(req)\n    handleDealRequest(httpRequest)\n        .then(({ headers, statusCode, data }) =>\n        res\n            .set(headers)\n            .status(statusCode) \n            .send(data)\n        )\n        .catch(e => res.status(500).end())\n}\n\n\napp.all('/client', clientController);\napp.post('/client/add', clientController);\napp.get('/client/:id', clientController);\napp.get('/client/find/?id=:id', clientController);\napp.get('/client/find/?customer_id=:id', clientController);\n\nfunction clientController (req, res) {\n  \n  const httpRequest = adaptRequest(req)\n  handleClientRequest(httpRequest)\n    .then(({ headers, statusCode, data }) =>\n      res\n        .set(headers)\n        .status(statusCode) \n        .send(data)\n    )\n    .catch(e => res.status(500).end())\n}\n\napp.all('/bank', bankController);\napp.post('/bank/add', bankController);\napp.get('/bank/:id', bankController);\napp.get('/bank/find/?id=:id', bankController);\napp.get('/bank/find/?customer_id=:id', bankController);\n\nfunction bankController (req, res) {\n  \n  const httpRequest = adaptRequest(req)\n  handleBankRequest(httpRequest)\n    .then(({ headers, statusCode, data }) =>\n      res\n        .set(headers)\n        .status(statusCode) \n        .send(data)\n    )\n    .catch(e => res.status(500).end())\n}\n\napp.all('/transaction', transactionController);\napp.post('/transaction/add', transactionController);\napp.get('/transaction/:id', transactionController);\napp.get('/transaction/find/?id=:id', transactionController);\napp.get('/transaction/find/?customer_id=:id', transactionController);\n\nfunction transactionController (req, res) {\n  \n  const httpRequest = adaptRequest(req)\n  handleTransactionRequest(httpRequest)\n    .then(({ headers, statusCode, data }) =>\n      res\n        .set(headers)\n        .status(statusCode) \n        .send(data)\n    )\n    .catch(e => res.status(500).end())\n}\n\n\n\napp.all('/account', accountController);\napp.post('/account/add', accountController);\napp.delete('/account/:id', accountController);\napp.get('/account/:id', accountController);\napp.get('/account/find/?id=:id', accountController);\napp.get('/account/find/?customer_id=:id', accountController);\n\nfunction accountController (req, res) {\n  \n  const httpRequest = adaptRequest(req)\n  handleAccountRequest(httpRequest)\n    .then(({ headers, statusCode, data }) =>\n      res\n        .set(headers)\n        .status(statusCode) \n        .send(data)\n    )\n    .catch(e => res.status(500).end())\n}\n\n\napp.all('/balance', balanceController);\napp.post('/balance/add', balanceController);\napp.get('/balance/:id', balanceController);\napp.delete('/balance/:id', balanceController);\napp.get('/balance/find/?id=:id', balanceController);\napp.get('/balance/find/?customer_id=:id', balanceController);\n\nfunction balanceController (req, res) {\n  \n  const httpRequest = adaptRequest(req)\n  handleBalanceRequest(httpRequest)\n    .then(({ headers, statusCode, data }) =>\n      res\n        .set(headers)\n        .status(statusCode) \n        .send(data)\n    )\n    .catch(e => res.status(500).end())\n}\n\n\napp.listen(9090, () => console.log(`Listening on port 9090`));"],"file":"index.js"}