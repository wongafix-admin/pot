{"version":3,"sources":["../../src/uploads/uploads.js"],"names":["makeUploads","uploadInfo","validUpload","validate","normalUpload","normalize","Object","freeze","subscriber_id","name","otherInfo","validateName","label","length","InvalidPropertyError"],"mappings":";;;;;;;AAAA;;AACA;;AACA;;AACA;;;;AAEe,SAASA,WAAT,CACXC,UAAU,GAAG,4BAAc,YAAd,CADF,EAEd;AAEG,QAAMC,WAAW,GAAGC,QAAQ,CAACF,UAAD,CAA5B;AACA,QAAMG,YAAY,GAAGC,SAAS,CAACH,WAAD,CAA9B;AACA,SAAOI,MAAM,CAACC,MAAP,CAAcH,YAAd,CAAP;;AAGA,WAASD,QAAT,CAAmB;AAEjBK,IAAAA,aAAa,GAAG,4BAAc,eAAd,CAFC;AAGjBC,IAAAA,IAAI,GAAG,4BAAc,MAAd,CAHU;AAIf,OAAGC;AAJY,MAKb,EALN,EAKU;AAENC,IAAAA,YAAY,CAAC,eAAD,EAAkBH,aAAlB,CAAZ;AACAG,IAAAA,YAAY,CAAC,MAAD,EAASF,IAAT,CAAZ;AACA,WAAO;AAAED,MAAAA,aAAF;AAAiBC,MAAAA,IAAjB;AAAuB,SAAGC;AAA1B,KAAP;AACD;;AAED,WAASC,YAAT,CAAuBC,KAAvB,EAA8BH,IAA9B,EAAoC;AAClC,QAAIA,IAAI,CAACI,MAAL,GAAc,CAAlB,EAAqB;AACnB,YAAM,IAAIC,4BAAJ,CACH,UAASF,KAAM,sCADZ,CAAN;AAGD;AACF;;AAED,WAASP,SAAT,CAAoB;AAAEI,IAAAA,IAAF;AAAQ,OAAGC;AAAX,GAApB,EAA4C;AAC1C,WAAO,EACL,GAAGA,SADE;AAELD,MAAAA,IAAI,EAAE,yBAAWA,IAAX;AAFD,KAAP;AAID;AACN","sourcesContent":["import requiredParam from '../helpers/required-param';\nimport { InvalidPropertyError } from '../helpers/errors';\nimport isValidEmail from '../helpers/is-valid-email.js';\nimport upperFirst from '../helpers/upper-first';\n\nexport default function makeUploads(\n    uploadInfo = requiredParam('uploadInfo')\n){\n  \n    const validUpload = validate(uploadInfo);\n    const normalUpload = normalize(validUpload);\n    return Object.freeze(normalUpload);\n\n  \n    function validate ({\n      \n      subscriber_id = requiredParam('subscriber_id'),\n      name = requiredParam('name'),\n        ...otherInfo\n      } = {}) {\n        \n        validateName('subscriber_id', subscriber_id);\n        validateName('name', name);\n        return { subscriber_id, name, ...otherInfo }\n      }\n    \n      function validateName (label, name) {\n        if (name.length < 2) {\n          throw new InvalidPropertyError(\n            `Upload ${label} must be at least 2 characters long.`\n          )\n        }\n      }\n\n      function normalize ({ name, ...otherInfo }) {\n        return {\n          ...otherInfo,\n          name: upperFirst(name),\n        }\n      }\n}\n"],"file":"uploads.js"}